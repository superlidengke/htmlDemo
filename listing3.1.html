<!DOCTYPE html>
<html ng-app>
<head>
<title>Listing 3-1</title>
<script src="lib/angular.min.js"></script>
<script type="text/javascript">

	//A JavaScript Implementation of the Singleton Pattern
	var Logger = (function() {
		// private variable to hold the only
		// instance of Logger that will exist
		var loggerInstance;
		// Create the logger instance
		var createLogger = function() {
			var _logWarning = function(message) {
				// some complex work coud go here, but
				// let's just fake it
				return message.toUpperCase();
			};
			return {
				logWarning : _logWarning
			};
		};
		return {
			// Here is the crucial part. First we check
			// to see if an instance already exists. If
			// it does, we return it. If it does not, we
			// create it.
			getInstance : function() {
				if (!loggerInstance) {
					loggerInstance = createLogger();
				}
				return loggerInstance;
			}
		};
	})();
	//Notice how we use getInstance() and we
	//do not use direct object creation with the
	//new keyword
	var myLogger = Logger.getInstance();
	var re=myLogger.logWarning("Memory use nearing maximum!");
	console.debug(re)
	

	function MyFirstCtrl($scope) {
		var employees = [ 'Catherine Grant', 'Monica Grant',
				'Christopher Grant', 'Jennifer Grant' ];
		$scope.ourEmployees = employees;
	}
</script>
</head>
<body ng-controller='MyFirstCtrl'>
<h2>Number of Employees: {{ ourEmployees.length}}</h2>
<p ng-repeat="employee in ourEmployees">{{employee}}</p>
</body>
</html>